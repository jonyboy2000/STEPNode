<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
   <TITLE>MachineState Programming Class</TITLE>
   <link rel="stylesheet" type="text/css" href="pkgcss/style.css" media = 'screen'>
</HEAD>

<BODY onload='onrun();'>
  <script type="text/javascript" src="pkgcss/tabs.js"></script>
<TABLE class=pagehead><TR>
<TD class=logo>MachineState</TD>
<TD class=quicklinks>
  <A HREF="http://www.steptools.com">[www.steptools.com]</a>
  <A HREF="../index.html">[STEP-NC Home]</A>
  <A HREF="index.html">[STEP-NC API Guide]</A>
</TD></TR>
</TABLE>

<div class=bktoc>
<FORM class=bksearch method=GET action="http://www.google.com/search">
Search STEP Tools Web Support<br>
<INPUT TYPE=text name=q size=22 maxlength=255 value="">
<INPUT TYPE=hidden name=q value="site:www.steptools.com/support">
<INPUT class=button type=submit name=sa VALUE="Google">
</FORM>
<ul>
<li><a href="#oview">Overview</a>
<li><a href=""></a>
</ul>
</div>

<div class=main>

<!-- ================================ -->
<h2><a name=oview></a>Overview</h2>
<p>
<b>MachineState</b> objects are slightly different from the other StepNC API objects- you need a unique MachineState object for every file you wish to simulate. Call the constructor with the path to the file you wish to simulate to instantiate an instance of it- ms = new machineState("File.stpnc"); A second option for creating a machine state object is accessed by calling ms = new machineState("File.stpnc", true); This will also create a simulation alongside the Machine State. new machineState("File.stpnc", false) will have the same behavior as new machineState("File.stpnc")
</p>


<!-- ======================================== -->
<!-- ================================ -->
<h2 class=rule>
<a name=AdvanceState></a>AdvanceState()</h2>
<pre>
int <b>AdvanceState</b> ();
</pre>

<P>The <b>AdvanceState()</b> function advances the simulation by the smallest possible amount. This will move a tool along a toolpath and switch workingsteps when necessary. Returns 0 if on the same workingstep. Returns 1 if a new workingstep has been reached. Returns -1 if an error occured.

<h2 class=rule>
<a name=></a>NextWS()</h2>
<pre>
void <b>NextWS</b> ();
</pre>

<P>The <b>NextWS()</b> function advances the simulation to the next sequential workingstep.

<h2 class=rule>
<a name=GetPrevWSID></a>
<a name=GetWSID></a>GetPrevWSID/NextWSID/WSID</h2>
<div class='tabview'>
<pre class='.net'>
int <b>GetPrevWSID</b> ();
int <b>GetWSID</b> ();
int <b>GetNextWSID</b> ();
</pre>
<pre class="node.js">
int <b>GetPrevWSID</b> ();
int <b>GetWSID</b> ();
int <b>GetNextWSID</b> ();
</pre>
<pre class="C++">
int <b>GetPrevWSID</b> ();
int <b>GetWSID</b> ();
int <b>GetNextWSID</b> ();
</pre>
</div>

<h2 class=rule>
<a name=GetCurrentSpindleSpeed></a>GetCurrentSpindleSpeed()</h2>
<div class='tabview'>
<pre class='.net'>
double <b>GetCurrentSpindleSpeed</b> ();
</pre>
<pre class="node.js">
double <b>GetCurrentSpindleSpeed</b> ();
</pre>
<pre class="C++">
double <b>GetCurrentSpindleSpeed</b> ();
</pre>
</div>

<P>The <b>GetCurrentSpindleSpeed()</b> function returns the spindle speed for the tool on the current toolpath.

<h2 class=rule>
<a name=GetCurrentFeedrate></a>GetCurrentFeedrate()</h2>
<div class='tabview'>
<pre class='.net'>
double <b>GetCurrentFeedrate</b> ();
</pre>
<pre class="node.js">
double <b>GetCurrentFeedrate</b> ();
</pre>
<pre class="C++">
double <b>GetCurrentFeedrate</b> ();
</pre>
</div>

<P>The <b>GetCurrentFeedrate()</b> function returns the feedrate for the tool on the current toolpath.

<h2 class=rule>
<a name=GetEIDfromUUID></a>GetEIDfromUUID()</h2>
<div class='tabview'>
<pre class='.net'>
</pre>
<pre class="node.js">
int <b>GetEIDfromUUID</b> (
	int uuid
);
</pre>
<pre class="C++">
RoseObject * <b>FindObjectByID</b> (
	int uuid
);
</pre>
</div>

<P>The <b>GetEIDfromUUID()</b> function returns the entity id that is associated with the uuid given.

<h2 class=rule> 
	Undocumented (working on it): </h2>
void LoadMachine(string file);
<br>
string GetGeometryJSON();
<br>
string GetGeometryJSON(string id, string typ);
<br>
string GetDeltaJSON();
<br>
string GetKeystateJSON();
<br>
int GoToWS(int ws_id);
<!-- ================================ -->
</div>

<div class="copyright">
  Copyright &copy; 2016 STEP Tools Inc. All Rights Reserved.<br>
</div>
</BODY>
</HTML>

